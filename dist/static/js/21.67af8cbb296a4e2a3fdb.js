webpackJsonp([21],{Un0A:function(t,e){},"ook+":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("gyMJ"),s={computed:{emailState:function(){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.email)},pswState:function(){return this.password.length>5}},data:function(){return{email:"",password:"",errorShow:!1}},methods:{login:function(){var t=this,e=new FormData;e.append("email",this.email),e.append("password",this.password),Object(a.k)(e).then(function(e){"error"===e.data?t.errorShow=!0:(console.log(t.$store.state.nologin),t.$router.push({name:"Home"}),console.log(t.$store.state.nologin),t.$store.commit("setLoginState",!1),console.log(t.$store.state.nologin),console.log("loging success"),console.log(t.$store.state.nologin),console.log(e.data.name),console.log(t.$store.state.nologin),localStorage.setItem("email",t.email),console.log(t.$store.state.nologin),localStorage.setItem("name",e.data.name),t.$store.commit("setNameState",e.data.name),console.log(t.$store.state.nologin),console.log("huancunwei:"),console.log(localStorage.getItem("email")),console.log(t.$store.state.nologin),sessionStorage.setItem("loginState",!0),console.log(t.$store.state.nologin))})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("b-jumbotron",[o("b-container",{attrs:{fluid:""}},[o("b-row",{staticClass:"my-1"},[o("b-col",[o("h1",[t._v("Please LogIn")])])],1),t._v(" "),o("hr"),t._v(" "),o("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:t.errorShow,callback:function(e){t.errorShow=e},expression:"errorShow"}},[t._v("Email Address or Password Error")]),t._v(" "),o("b-row",{staticClass:"my-1"},[o("b-col",{attrs:{sm:"3"}},[o("label",{attrs:{for:"input-invalid"}},[t._v("Email")])])],1),t._v(" "),o("b-row",{staticClass:"my-1"},[o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{attrs:{id:"input-invalid-email",state:t.emailState,"aria-describedby":"input-email",placeholder:"Your email address",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),o("b-form-invalid-feedback",{attrs:{id:"input-email"}},[t._v("\n          Please input the correct email address\n        ")])],1)],1),t._v(" "),o("b-row",{staticClass:"my-1"},[o("b-col",{attrs:{sm:"3"}},[o("label",{attrs:{for:"input-invalid"}},[t._v("Password")])])],1),t._v(" "),o("b-row",{staticClass:"my-1"},[o("b-col",{attrs:{sm:"9"}},[o("b-form-input",{attrs:{id:"input-invalid-psw",state:t.pswState,"aria-describedby":"input-psw",placeholder:"Your password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),o("b-form-invalid-feedback",{attrs:{id:"input-psw"}},[t._v("\n          Password cannot be empty\n        ")])],1),t._v(" "),o("b-col",{staticStyle:{display:"flex","align-content":"space-around","flex-wrap":"wrap"},attrs:{sm:"3"}},[o("router-link",{attrs:{to:"/reset"}},[t._v(" Forget Password?")])],1)],1),t._v(" "),o("br"),t._v(" "),o("b-row",{attrs:{cols:"my-1"}},[o("b-col",{attrs:{sm:"3"}},[o("b-button",{on:{click:t.login}},[t._v("Log in")])],1)],1),t._v(" "),o("br"),t._v(" "),o("p",[t._v("You don't have an account yet? "),o("router-link",{attrs:{to:"/register"}},[t._v(" Register a new account")])],1)],1)],1)],1)},staticRenderFns:[]};var n=o("VU/8")(s,r,!1,function(t){o("Un0A")},"data-v-182b0f29",null);e.default=n.exports}});
//# sourceMappingURL=21.67af8cbb296a4e2a3fdb.js.map