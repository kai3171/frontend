webpackJsonp([13],{Wgyu:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("gyMJ"),l={name:"Browse",data:function(){return{fields:[{key:"id",thClass:"d-none",tdClass:"d-none"},{key:"selected",sortable:!1},{key:"Dataset",sortable:!0},{key:"AgeRange",sortable:!1},{key:"Age_unit",sortable:!1},{key:"SampleNum",sortable:!0}],selectMode:"multi",readingDatabase:!0,readingDisease:!0,readingRace:!0,readingTissue:!0,databaseReading:!0,filter:null,isBusy:!1,currentPage:1,perPage:5,pageOptions:[10,20,{value:100,text:"Show a lot"}],sortBy:"Dataset",sortDesc:!1,optionsModel:[{item:"datasets",name:"Datasets"},{item:"tissue",name:"Tissue"},{item:"disease",name:"Disease"},{item:"race",name:"Race"}],selectedModel:"datasets",sampleData:[],formDataValue:[],datasetsData:[],diseaseData:[],tissueData:[],raceData:[],clocksList:["HorvathAge","Skin&BloodClock","ZhangBlupredAge","HannumAge","WeidnerAge","LinAge","PedBE","FeSTwo","MEAT","AltumAge","PhenoAge","BNN","EPM","CorticalClock","VidalBraloAge"],genderList:["Female","Male","Unknown"],selectedGender:["Female","Male","Unknown"],selectedClocks:[],allSelectedClocks:!1,indeterminateClocks:!1,clocksNum:0,errorShow:!1,loading:!1,resultreading:!1}},computed:{selectedRows:function(){return this.sampleData.filter(function(e){return e.selected})},rows:function(){return this.sampleData.length}},methods:{tbodyRowClass:function(e){return e.selected?["b-table-row-selected","table-primary","cursor-pointer"]:["cursor-pointer"]},rowClicked:function(e){e.selected?this.$set(e,"selected",!1):this.$set(e,"selected",!0)},selectAllRows:function(){for(var e=(this.currentPage-1)*this.perPage,t=this.currentPage*this.perPage-1,s=e;s<=t;s++)this.$set(this.sampleData[s],"selected",!0)},clearSelected:function(){var e=this;this.selectedRows.forEach(function(t){e.$delete(t,"selected")})},toggleAllClocks:function(e){this.selectedClocks=e?this.clocksList.slice():[],this.clocksNum=this.selectedClocks.length},changeModel:function(e){return this.$store.commit("setModelState",e),"datasets"===e?(this.clearSelected(),this.fields=[{key:"selected",sortable:!1},{key:"Dataset",sortable:!0},{key:"AgeRange",sortable:!1},{key:"Age_unit",sortable:!1},{key:"SampleNum",sortable:!0}],this.sampleData=this.datasetsData,!0):"tissue"===e?(this.clearSelected(),this.fields=[{key:"selected",sortable:!1},{key:"Tissues",sortable:!0},{key:"SampleNum",sortable:!0}],this.sampleData=this.tissueData,!0):"disease"===e?(this.fields=[{key:"selected",sortable:!1},{key:"Diseases",sortable:!0},{key:"SampleNum",sortable:!0}],this.sampleData=this.diseaseData,!0):"race"===e?(this.clearSelected(),this.fields=[{key:"selected",sortable:!1},{key:"Races",sortable:!0},{key:"SampleNum",sortable:!0}],this.sampleData=this.raceData,!0):void 0},result:function(){var e=this;if(0===this.selectedClocks.length)return this.errorShow=!0,this.formDataValue=[],"false";if(console.log(this.selectedRows.length),0===this.selectedRows.length)return console.log("shoule cancel"),this.errorShow=!0,this.formDataValue=[],"nothing";this.resultreading=!0,this.formDataValue=[];this.selectedClocks,"datasets"===this.selectedModel&&this.selectedRows.forEach(function(t){e.formDataValue.push(t.Dataset)}),"tissue"===this.selectedModel&&this.selectedRows.forEach(function(t){e.formDataValue.push(t.Tissues)}),"race"===this.selectedModel&&this.selectedRows.forEach(function(t){e.formDataValue.push(t.Races)}),"disease"===this.selectedModel&&this.selectedRows.forEach(function(t){e.formDataValue.push(t.Diseases)}),console.log(this.formDataValue);var t=new FormData;t.append("selected",this.formDataValue),t.append("model",this.selectedModel),Object(a.l)(t).then(function(t){e.$store.commit("setDatastsState",t.data.data),e.$store.commit("setClockListState",e.selectedClocks),0!==e.selectedClocks.length?e.$router.push({path:"/result"}):(e.errorShow=!0,e.formDataValue=[])})}},watch:{selectedClocks:function(e,t){0===e.length?(this.indeterminateClocks=!1,this.allSelectedClocks=!1):e.length===this.clocksList.length?(this.indeterminateClocks=!1,this.allSelectedClocks=!0):(this.indeterminateClocks=!0,this.allSelectedClocks=!1)},selectedGeo:function(e,t){0===e.length?(this.indeterminateGeo=!1,this.allSelectedGeo=!1):e.length===this.selectedGeoData.length?(this.indeterminateGeo=!1,this.allSelectedGeo=!0):(this.indeterminateGeo=!0,this.allSelectedGeo=!1)}},created:function(){var e=this;Object(a.c)().then(function(t){e.readingDatabase=!1,e.sampleData=t.data.data,e.datasetsData=t.data.data,!1===e.readingTissue&&!1===e.readingDatabase&&!1===e.readingRace&&!1===e.readingDisease&&(e.databaseReading=!1)}),Object(a.d)().then(function(t){e.diseaseData=t.data.data,e.readingDisease=!1,!1===e.readingTissue&&!1===e.readingDatabase&&!1===e.readingRace&&!1===e.readingDisease&&(e.databaseReading=!1)}),Object(a.g)().then(function(t){e.tissueData=t.data.data,e.readingTissue=!1,!1===e.readingTissue&&!1===e.readingDatabase&&!1===e.readingRace&&!1===e.readingDisease&&(e.databaseReading=!1)}),Object(a.e)().then(function(t){e.readingRace=!1,e.raceData=t.data.data,!1===e.readingTissue&&!1===e.readingDatabase&&!1===e.readingRace&&!1===e.readingDisease&&(e.databaseReading=!1)})}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.databaseReading?s("div",{staticClass:"browse-box"},[s("b-row",{staticClass:"my-1"},[s("b-col",[s("h3",[e._v("We are reading database,please keep this page opening")])])],1)],1):s("div",{staticClass:"browse-box"},[s("b-container",{attrs:{fluid:""}},[e.readingDatabase?e._e():s("b-row",{staticClass:"my-1"},[s("b-col",[s("h3",[e._v("Select Data")])])],1),e._v(" "),s("hr"),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2",md:"auto"}},[s("b",[e._v("Select Model:")])]),e._v(" "),s("b-col",{attrs:{cols:"4"}},[s("b-form-radio-group",{staticClass:"mb-3",attrs:{options:e.optionsModel,"value-field":"item","text-field":"name"},on:{change:e.changeModel},model:{value:e.selectedModel,callback:function(t){e.selectedModel=t},expression:"selectedModel"}})],1),e._v(" "),s("b-col",[e.resultreading?e._e():s("b-button",{staticStyle:{float:"right"},attrs:{size:"md"},on:{click:e.result}},[e._v("Result")]),e._v(" "),e.resultreading?s("b-button",{staticStyle:{float:"right"},attrs:{size:"md"}},[e._v("reading")]):e._e()],1)],1),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errorShow,callback:function(t){e.errorShow=t},expression:"errorShow"}},[e._v("Please Select Datasets and Clocks")]),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{staticStyle:{"border-right":"1px solid #e9ecef"},attrs:{cols:"9"}},[s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{cols:"6"}},[s("p",[s("b-button",{attrs:{size:"sm"},on:{click:e.selectAllRows}},[e._v("Select all")]),e._v(" "),s("b-button",{attrs:{size:"sm",disabled:0===e.selectedRows.length},on:{click:e.clearSelected}},[e._v("Clear selected")])],1)]),e._v(" "),s("b-col",{attrs:{cols:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"search","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),s("b-input-group-append",[s("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1)],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-overlay",{staticStyle:{width:"100%"},attrs:{show:e.loading,opacity:"1"}},[s("b-table",{ref:"selectableTable",attrs:{"per-page":e.perPage,responsive:"","head-variant":"light","current-page":e.currentPage,items:e.sampleData,fields:e.fields,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-icon-left":"","tbody-tr-class":e.tbodyRowClass,"primary-key":"id",busy:e.isBusy},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"row-clicked":e.rowClicked},scopedSlots:e._u([{key:"cell(selected)",fn:function(t){var a=t.item,l=t.field.key;return[s("b-checkbox",{model:{value:a[l],callback:function(t){e.$set(a,l,t)},expression:"item[key]"}})]}}],null,!1,2613980722)})],1)],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{cols:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-size":"sm","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right"}},[s("b-form-select",{attrs:{id:"per-page-select",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),e._v(" "),s("b-col",{attrs:{cols:"8"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.rows,"per-page":e.perPage,align:"left",size:"md"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{cols:"3"}},[s("b",[e._v("select Gender: ")]),e._v(" "),s("b-form-checkbox-group",{staticClass:"mb-3",attrs:{options:e.genderList,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:e.selectedGender,callback:function(t){e.selectedGender=t},expression:"selectedGender"}}),e._v(" "),s("b",[e._v("Select Clocks: ")]),e._v("  \n        "),s("b-badge",{attrs:{to:"/clocks",variant:"danger"}},[e._v("Clocks Info")]),e._v(" "),s("b-form-group",{scopedSlots:e._u([{key:"label",fn:function(){return[s("b-form-checkbox",{staticStyle:{color:"blue"},attrs:{indeterminate:e.indeterminateClocks,"aria-describedby":"clocksList","aria-controls":"clocksList",size:"lg"},on:{change:e.toggleAllClocks},model:{value:e.allSelectedClocks,callback:function(t){e.allSelectedClocks=t},expression:"allSelectedClocks"}},[e._v("\n              "+e._s(e.allSelectedClocks?"Un-select All":"Select All")+"\n            ")])]},proxy:!0}],null,!1,843595091)},[e._v(" "),s("b-container",{staticClass:"bv-example-row bv-example-row-flex-cols"},[s("b-row",[s("b-form-group",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[s("b-form-checkbox-group",{attrs:{options:e.clocksList,"aria-describedby":a,name:"flavour-2a",stacked:""},model:{value:e.selectedClocks,callback:function(t){e.selectedClocks=t},expression:"selectedClocks"}})]}}],null,!1,3406398518)})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(l,o,!1,function(e){s("wmwf")},"data-v-691d9d02",null);t.default=i.exports},wmwf:function(e,t){}});
//# sourceMappingURL=13.808f3ecc9dbaecdb8708.js.map