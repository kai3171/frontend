webpackJsonp([6],{"0xjX":function(e,a,t){e.exports=t.p+"static/img/pheno.75b7310.png"},"77Nj":function(e,a){},"A+O7":function(e,a,t){e.exports=t.p+"static/img/beta.7c0d546.jpg"},H3ra:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("gyMJ"),o={data:function(){return{wait_id:"non",wait_name:"non",wait_email:"non",wait_dataName:"non",wait_createTime:"non",errLogShow:!1,errIdShow:!1,errHeadShow:!1,errPhoneShow:!1,errAboveShow:!1,errUnknownShow:!1,noFileShow:!1,errFileNameShow:!1,errGeoIDShow:!1,errSamIDShow:!1,betaFile:null,phenoFile:null,dialogVisibleBeta:!1,dialogVisiblePheno:!1,dataUploading:!1,betaProgress:0,tissue:"blood",ageUnit:"Year",naImp:"methyLImp",options:[{value:"blood",text:"Blood"},{value:"saliva",text:"Saliva"},{value:"skin",text:"Skin"},{value:"brain",text:"Brain"},{value:"Breast",text:"Breast"},{value:"other",text:"Other"}],ageUnitOptions:[{value:"Year",text:"Year"},{value:"Month",text:"Month"},{value:"Week",text:"Week"},{value:"day",text:"day"}],naImpOptions:[{value:"methyLImp",text:"methyLImp"}],selectedClocks:[],allSelectedClocks:!1,indeterminateClocks:!1,clocksList:["HorvathAge","Skin&BloodClock","ZhangBlupredAge","HannumAge","WeidnerAge","LinAge","PedBE","FeSTwo","MEAT","AltumAge","PhenoAge","BNN","EPM","CorticalClock","VidalBraloAge","PerSEClock"]}},methods:{toggleAllClocks:function(e){this.selectedClocks=e?this.clocksList.slice():[]},upload:function(){var e=this;if(this.wait_email=localStorage.getItem("email"),this.wait_name=localStorage.getItem("name"),this.dataUploading=!0,console.log(sessionStorage.loginState),sessionStorage.loginState)if(null===this.betaFile||null===this.phenoFile)this.noFileShow=!0,this.dataUploading=!1;else{var a=new FormData,t=this.$refs["beta-input"].files[0],o=this.$refs["pheno-input"].files[0];if(/[a-zA-Z0-9_-]*_beta.csv/.test(t.name)&&/[a-zA-Z0-9_-]*_pheno.csv/.test(o.name))if(t.name.split("_")[0]===o.name.split("_")[0]){var l=Date.parse(new Date);l/=1e3,a.append("taskID",l),console.log(localStorage.getItem("email")),console.log(localStorage.getItem("name")),a.append("email",localStorage.getItem("email")),a.append("userName",localStorage.getItem("name")),a.append("beta",t),a.append("pheno",o),a.append("tissue",this.tissue),a.append("ageUnit",this.ageUnit),a.append("imputation",this.naImp),a.append("clocks",this.selectedClocks),console.log(a.get("clocks")),sessionStorage.setItem("id",l),this.wait_id=sessionStorage.id;var i=t.name+"  |  "+o.name;this.wait_createTime=new Date(1e3*sessionStorage.id).toLocaleString().replace(/:\d{1,2}$/," "),sessionStorage.setItem("dataName",i),this.wait_dataName=sessionStorage.dataName;var r={onUploadProgress:function(a){var t=100*a.loaded/a.total;e.betaProgress=t,t<100&&(e.dialogVisibleBeta=!0,e.dialogVisiblePheno=!0,e.dataUploading=!1),console.log(e.betaProgress)},header:{"Content-Type":"multipart/form-data"}};Object(s.p)(a,r).then(function(t){return"unknownerror"===t.data?(e.errUnknownShow=!0,e.dataUploading=!1,!1):"PhoneIdErr"===t.data?(e.errIdShow=!0,e.dataUploading=!1,!1):void("IDMismatch"===t.data?(e.errSamIDShow=!0,e.dataUploading=!1):"BetaHeadErr"===t.data?(e.errHeadShow=!0,e.dataUploading=!1):"PhoneHeadErr"===t.data?(e.errPhoneShow=!0,e.dataUploading=!1):"TooMuchErr"===t.data?(e.errAboveShow=!0,e.dataUploading=!1):(console.log(t.data),e.$router.push({name:"Wait",params:{clocks:e.selectedClocks,timeNeed:t.data,form:a,con:r}})))})}else this.errGeoIDShow=!0,this.dataUploading=!1;else this.errFileNameShow=!0,this.dataUploading=!1}else this.errLogShow=!0,this.dataUploading=!1},clearFiles:function(){this.$refs["file-input"].reset()}},created:function(){this.value=this.$route.query.value,this.selectedClocks=this.value}},l={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return e.dataUploading?s("div",{staticClass:"waittBox"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"my-1"},[s("b-col",[s("h1",[e._v("Your data have been uploaded,we are checking your data,please keep this page opening")])])],1),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"text-center"},[s("b-spinner",{staticStyle:{width:"5rem",height:"5rem"},attrs:{label:"Spinning"}}),e._v(" "),s("b-spinner",{staticStyle:{width:"5rem",height:"5rem"},attrs:{variant:"primary",label:"Spinning"}}),e._v(" "),s("b-spinner",{staticStyle:{width:"5rem",height:"5rem"},attrs:{variant:"success",label:"Spinning"}})],1),s("br"),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Task ID: ")])]),e._v(" "),s("b-col",{attrs:{sm:"3"}},[s("label",{staticClass:"labelFont"},[e._v(e._s(e.wait_id))])])],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Your name: ")])]),e._v(" "),s("b-col",{attrs:{sm:"3"}},[s("label",{staticClass:"labelFont"},[e._v(e._s(e.wait_name))])])],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Your email: ")])]),e._v(" "),s("b-col",{attrs:{sm:"3"}},[s("label",{staticClass:"labelFont"},[e._v(e._s(e.wait_email))])])],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Your Data: ")])]),e._v(" "),s("b-col",{attrs:{sm:"9"}},[s("label",{staticClass:"labelFont"},[s("b",[e._v(e._s(e.wait_dataName))])])])],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Created Time: ")])]),e._v(" "),s("b-col",{attrs:{sm:"9"}},[s("label",{staticClass:"labelFont"},[e._v(e._s(e.wait_createTime))])])],1),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2"}},[s("label",{staticClass:"labelFont"},[e._v("Task  Status: ")])]),e._v(" "),s("b-col",{attrs:{sm:"3"}},[s("label",{staticStyle:{"font-size":"20px",color:"red"}},[e._v("In check")]),e._v(" "),s("b-spinner",{attrs:{small:"",label:"Small Spinner"}})],1)],1)],1)],1):s("div",{staticClass:"upload-box"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"my-1"},[s("b-col",[s("h2",[e._v("Upload Your Data")])])],1),s("hr"),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errLogShow,callback:function(a){e.errLogShow=a},expression:"errLogShow"}},[e._v("Please login before uploading data")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.noFileShow,callback:function(a){e.noFileShow=a},expression:"noFileShow"}},[e._v("You must upload beta data and phenotype data")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errFileNameShow,callback:function(a){e.errFileNameShow=a},expression:"errFileNameShow"}},[e._v("Your file name must match the requirements")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errGeoIDShow,callback:function(a){e.errGeoIDShow=a},expression:"errGeoIDShow"}},[e._v("Beta Data and Phenotype Data must have the same GEO ID")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errSamIDShow,callback:function(a){e.errSamIDShow=a},expression:"errSamIDShow"}},[e._v("Beta Data and Phenotype Data must have the same Sample ID")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errHeadShow,callback:function(a){e.errHeadShow=a},expression:"errHeadShow"}},[e._v("Please Rank transfer your Beta Data and try again")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errPhoneShow,callback:function(a){e.errPhoneShow=a},expression:"errPhoneShow"}},[e._v("ID Tissue disease condition Age Age_unit Gender Race Platform are required in phone")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errIdShow,callback:function(a){e.errIdShow=a},expression:"errIdShow"}},[e._v("Id dismissed in phone flie")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errAboveShow,callback:function(a){e.errAboveShow=a},expression:"errAboveShow"}},[e._v("More than 20 of datas are not allowed")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errUnknownShow,callback:function(a){e.errUnknownShow=a},expression:"errUnknownShow"}},[e._v("Unknown error,please check your data")]),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"8"}},[s("b-container",[s("b-row",{staticClass:"my-2"},[s("b",[e._v("DNA Methylation Beta Data (csv or zip)\n            "),s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-beta",modifiers:{"modal-beta":!0}}],staticClass:"format"},[e._v("(Beta Data Format)")])])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-file",{ref:"beta-input",attrs:{multiple:"",accept:".csv, .zip, .gz"},model:{value:e.betaFile,callback:function(a){e.betaFile=a},expression:"betaFile"}}),e._v(" "),s("b-progress",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisibleBeta,expression:"dialogVisibleBeta"}],staticClass:"mb-3",attrs:{value:e.betaProgress,max:"100"}}),e._v(" "),s("b-modal",{attrs:{id:"modal-beta",title:"Beta Data Format","ok-only":""}},[s("img",{staticStyle:{"object-fit":"contain",width:"95%"},attrs:{src:t("A+O7")}})])],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Phenotype Data (csv or zip)"),s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-pheno",modifiers:{"modal-pheno":!0}}],staticClass:"format"},[e._v("(Phenotype Data Format)")])])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-file",{ref:"pheno-input",attrs:{multiple:"",accept:".csv, .zip, .gz"},model:{value:e.phenoFile,callback:function(a){e.phenoFile=a},expression:"phenoFile"}}),e._v(" "),s("b-progress",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisiblePheno,expression:"dialogVisiblePheno"}],staticClass:"mb-3",attrs:{value:e.betaProgress,max:"100"}}),e._v(" "),s("b-modal",{attrs:{id:"modal-pheno","ok-only":"",title:"Phenotype Data Format"}},[s("img",{staticStyle:{"object-fit":"contain",width:"95%"},attrs:{src:t("0xjX")}})])],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Select Tissues Of The Dataset")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.options,id:"inline-form-custom-select-pref"},model:{value:e.tissue,callback:function(a){e.tissue=a},expression:"tissue"}})],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Select Samples Age Unit")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.ageUnitOptions,id:"inline-form-custom-select-pref"},model:{value:e.ageUnit,callback:function(a){e.ageUnit=a},expression:"ageUnit"}})],1),e._v(" "),s("b-row",[s("b",[e._v("Select NA Value Imputation Method")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.naImpOptions,id:"inline-form-custom-select-pref"},model:{value:e.naImp,callback:function(a){e.naImp=a},expression:"naImp"}})],1)],1)],1)],1),e._v(" "),s("b-row",[s("b-col",[e.dataUploading?e._e():s("b-button",{attrs:{id:"load",size:"lg",variant:"outline-primary"},on:{click:e.upload}},[e._v("Upload Dataset")]),e._v(" "),e.dataUploading?s("b-button",{attrs:{id:"loading",size:"lg",variant:"danger"}},[e._v("Uploading")]):e._e()],1)],1),e._v(" "),s("b-row")],1)],1)},staticRenderFns:[]};var i=t("VU/8")(o,l,!1,function(e){t("77Nj")},"data-v-3b447539",null);a.default=i.exports}});
//# sourceMappingURL=6.0054dad5b9f4f80ee6ae.js.map